!function(n){function e(e){for(var t,a,p=e[0],l=e[1],c=e[2],u=0,d=[];u<p.length;u++)a=p[u],i[a]&&d.push(i[a][0]),i[a]=0;for(t in l)Object.prototype.hasOwnProperty.call(l,t)&&(n[t]=l[t]);for(s&&s(e);d.length;)d.shift()();return r.push.apply(r,c||[]),o()}function o(){for(var n,e=0;e<r.length;e++){for(var o=r[e],t=!0,p=1;p<o.length;p++){var l=o[p];0!==i[l]&&(t=!1)}t&&(r.splice(e--,1),n=a(a.s=o[0]))}return n}var t={},i={3:0},r=[];function a(e){if(t[e])return t[e].exports;var o=t[e]={i:e,l:!1,exports:{}};return n[e].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=n,a.c=t,a.d=function(n,e,o){a.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:o})},a.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},a.t=function(n,e){if(1&e&&(n=a(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var t in n)a.d(o,t,function(e){return n[e]}.bind(null,t));return o},a.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return a.d(e,"a",e),e},a.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},a.p="";var p=window.webpackJsonp=window.webpackJsonp||[],l=p.push.bind(p);p.push=e,p=p.slice();for(var c=0;c<p.length;c++)e(p[c]);var s=l;r.push([27,0]),o()}({27:function(n,e,o){(function(e){o(28).init(),o(29);const t=chrome.runtime.getManifest().version,i=o(31),r=o(9),a="Popup__user",p="Popup-nav-logout",l={username:e(".Popup__nav-username"),errors:e(".Popup__hello-errors")},c={async init(){i.initForm(),document.querySelector(".Popup__version").innerText=`v${t}`,this.initButtons(),this.checkIfAuthorized().then(n=>{n&&(i.hideHelloMenu(),c.showUserMenu(),c.showNavbar())},n=>{"unauthorized"!==n.message&&console.error(n)})},initButtons(){const n=document.querySelectorAll(".Libplus__ga-item");for(let e=0;e<n.length;e++)n[e].addEventListener("click",this.trackButtonClick);e(`#${p}`).click(function(){c.logout()})},checkIfAuthorized:()=>new Promise((n,e)=>{chrome.storage.local.get(["isAuthorized"],function(o){const{isAuthorized:t}=o;t?n(t):e(Error("unauthorized"))})}),onLoginSuccess(){console.log("[LibPlus] login success!"),l.errors.hide(),i.hideHelloMenu(),c.showNavbar(),this.fetchData()},onLoginFailed(n){l.errors.show(),console.log("[LibPlus] login failed!"),console.error(n)},showUserMenu(){i.hideHelloMenu(),e(`.${a}`).fadeIn(0),c.showData()},showData(n){if(n)return r.initPrepared(n.grades,n.gpa),l.username.text(n.user),void c.showNotifications(n);chrome.storage.local.get(["grades","gpa","user","events","announcements","messages"],n=>{const{grades:e,gpa:o}=n;console.log("show data: ",n.gpa),r.initPrepared(e,o),l.username.text(n.user),c.showNotifications(n)})},showNotifications(n){const{messages:e,announcements:o,events:t}=n,i=e+o+t;0!==i&&chrome.browserAction.setBadgeText({text:""+i})},clearNotifications(){chrome.browserAction.setBadgeText({text:""})},showNavbar(){e(".Popup__nav").slideDown(100)},hideNavbar(){e(".Popup__nav").slideUp(100)},hideUserMenu(){i.showHelloMenu(),e(`.${a}`).hide()},logout(){chrome.storage.local.clear(),c.hideUserMenu(),c.hideNavbar(),c.clearNotifications()},fetchData(){chrome.runtime.sendMessage({method:"fetchData"})},onDataUpdated(n){c.showData(n),e(`.${a}`).fadeIn(0)},trackButtonClick(n){const e=n.target.id;_gaq.push(["_trackEvent",e,"clicked",t])}};chrome.runtime.onMessage.addListener(function(n){switch(n.method){case"loginSuccess":c.onLoginSuccess();break;case"loginFailed":c.onLoginFailed(n.data.errors);break;case"onDataUpdated":c.onDataUpdated(n.data.updatedData)}return!0}),window.onload=c.init(),n.exports=c}).call(this,o(1))},28:function(n,e,o){n.exports={init:function(){var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src="https://ssl.google-analytics.com/ga.js";var e=document.getElementsByTagName("meta")[0];e.parentNode.insertBefore(n,e.nextSibling),window._gaq=window._gaq||[],_gaq.push(["_setAccount","UA-138677716-1"]),_gaq.push(["_trackPageview"]),console.log("GA started")}}},29:function(n,e,o){var t=o(30);"string"==typeof t&&(t=[[n.i,t,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};o(4)(t,i);t.locals&&(n.exports=t.locals)},30:function(n,e,o){(n.exports=o(3)(!1)).push([n.i,'* {\n  box-sizing: border-box; }\n\nbody {\n  margin: 0;\n  font-family: \'Arial\', sans-serif;\n  font-size: 12px;\n  min-width: 600px;\n  width: 600px;\n  color: #4c4c4c; }\n\n.Popup__container .Libplus__logo {\n  position: absolute;\n  line-height: 3em;\n  font-size: 2.5em;\n  top: -2.25em;\n  left: .5em; }\n\n.Popup__container .Libplus__copyright {\n  display: none; }\n\n.Popup__hello-logo {\n  text-align: center;\n  height: 5em;\n  margin-bottom: 2em; }\n  .Popup__hello-logo h1 {\n    font-size: 3em;\n    margin-block-start: 0;\n    margin-block-end: 0; }\n  .Popup__hello-logo .Popup__hello-logo-text {\n    font-weight: lighter; }\n\n.Popup__hello {\n  display: flex;\n  padding: 2em 0; }\n\n.Popup__hello-menu {\n  flex: 0 0 200px; }\n\n.Popup__hello-menu-item {\n  margin-top: 1em;\n  background-color: #efefef;\n  border-top-right-radius: 999px;\n  border-bottom-right-radius: 999px;\n  box-shadow: 0 3px 5px 0 #00000032; }\n  .Popup__hello-menu-item a {\n    display: block;\n    color: #4c4c4c;\n    text-decoration: none;\n    padding: 1em 1em 1em 2em; }\n    .Popup__hello-menu-item a:hover {\n      text-decoration: underline; }\n  .Popup__hello-menu-item:first-of-type {\n    margin-top: 0; }\n  .Popup__hello-menu-item:last-of-type {\n    margin-bottom: 2em; }\n\n.Popup__hello-errors {\n  color: red;\n  padding: 1em; }\n\n.Popup__login-form {\n  flex: 1 0 auto;\n  padding-top: 2em; }\n\n.Popup__input-container {\n  width: 50%;\n  margin: auto; }\n\n.Popup__input-wrapper {\n  margin-bottom: 1em;\n  width: 100%; }\n\n.Popup__input {\n  padding: .5em .75em;\n  display: block;\n  border-radius: 999px;\n  border: none;\n  background-color: #efefef;\n  width: 100%;\n  box-shadow: 0 3px 5px 0 #00000032; }\n  .Popup__input:focus {\n    border-radius: 999px; }\n\n.Popup__input-label {\n  display: block;\n  color: #4c4c4c;\n  padding-left: 1em;\n  padding-bottom: .375em; }\n\n.Popup__input--checkbox {\n  display: block;\n  position: absolute;\n  height: 0;\n  width: 0;\n  opacity: 0; }\n  .Popup__input--checkbox:checked + .Popup__input-label--checkbox::after {\n    content: ""; }\n  .Popup__input--checkbox:focus + .Popup__input-label--checkbox::before {\n    outline: #3b99fc auto 5px; }\n\n.Popup__input-label--checkbox {\n  color: #4c4c4c;\n  display: inline-block;\n  position: relative;\n  padding: .5em .5em .5em 2em;\n  cursor: pointer;\n  line-height: 1.25em; }\n  .Popup__input-label--checkbox:before, .Popup__input-label--checkbox:after {\n    position: absolute;\n    content: "";\n    display: inline-block; }\n  .Popup__input-label--checkbox:before {\n    height: 1.25em;\n    width: 1.25em;\n    left: 0;\n    border: 1px solid #4c4c4c;\n    border-radius: 3px; }\n  .Popup__input-label--checkbox:after {\n    height: .4em;\n    width: .8em;\n    border-left: 2px solid;\n    border-bottom: 2px solid #4c4c4c;\n    transform: rotate(-45deg);\n    left: .25em;\n    top: .75em; }\n\n.Popup__input--checkbox + .Popup__input-label--checkbox::after {\n  content: none; }\n\n.Popup__button {\n  color: #4c4c4c;\n  width: auto;\n  cursor: pointer;\n  border-radius: 999px;\n  border: none;\n  background-color: #efefef;\n  padding: .75em 1.5em;\n  box-shadow: 0 3px 5px 0 #00000032;\n  float: right; }\n\n.Popup__login-info {\n  max-width: 300px; }\n  .Popup__login-info a {\n    color: inherit; }\n\n.float-clearfix {\n  clear: both; }\n\n.Popup__nav {\n  background-color: #2b2b2b;\n  box-shadow: 0 3px 5px 0 #00000032;\n  position: relative;\n  z-index: 10;\n  min-height: 1.5em; }\n\n.Popup__nav-items-container {\n  display: flex;\n  justify-content: flex-end; }\n\n.Popup__nav-item-wrapper {\n  min-width: 6em; }\n\n.Popup__nav-item {\n  width: 100%;\n  height: 100%;\n  padding: 1.5em 0em;\n  color: #efefef;\n  text-align: center;\n  display: block;\n  text-decoration: none; }\n  .Popup__nav-item:hover {\n    background-color: #3f3f3f;\n    color: #ffffff;\n    cursor: pointer; }\n  .Popup__nav-item a {\n    color: #efefef;\n    display: block; }\n\n.Popup__nav-item--logged-as {\n  padding: .5em;\n  font-size: .9em;\n  display: flex;\n  justify-content: center;\n  align-items: center; }\n  .Popup__nav-item--logged-as:hover {\n    background-color: inherit;\n    color: #efefef;\n    cursor: text; }\n\n.Popup__copyright {\n  font-size: 1em;\n  margin-bottom: .1em;\n  margin-left: .2em; }\n  .Popup__copyright a {\n    text-decoration: none;\n    color: #bfbfbf; }\n\n.Popup__version {\n  position: absolute;\n  bottom: .1em;\n  right: .2em;\n  font-size: 1em;\n  color: #bfbfbf; }\n',""])},31:function(n,e,o){(function(e){const o="login",t="pass",i="autologin",r="Popup__hello",a={initForm(){e("#loginForm").submit(n=>{n.preventDefault(),this.login()})},login(){const n=e(`#${o}`).val(),r=e(`#${t}`).val(),a=e(`#${i}`).prop("checked");n&&r&&chrome.runtime.sendMessage({method:"authorize",data:{login:n,pass:r,autologin:a}})},hideHelloMenu(){e(`.${r}`).fadeOut(100)},showHelloMenu(){e(`.${r}`).show()}};n.exports=a}).call(this,o(1))}});